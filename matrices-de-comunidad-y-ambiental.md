Apoyo para la preparación de datos de la PD02: matriz de comunidad y
matriz ambiental<small><br>Biogeografía (GEO-131)<br>Universidad
Autónoma de Santo Domingo (UASD)<br>Semestre 2024-02</small>
================
El Tali
2024-10-01

Versión HTML (quizá más legible),
[aquí](https://biogeografia-master.github.io/tecnicas-ecologia-numerica-reproducibilidad/matrices-de-comunidad-y-ambiental.html)

# Generar las matrices de comunidad y ambiental

Creé funciones de ayuda para generar las matrices de comunidad y
ambiental a partir de datos de GBIF (GBIF.org, 2022) y el repositorio de
estadística zonal sobre RD de Martínez-Batlle (2022), usando como índice
espacial hexágonos de la biblioteca H3. Todas las funciones de ayuda las
encapsulé en una tubería o toolchain denominado `generar_mc_ma`.
Ejemplos de uso a continuación.

# Funciones

Primero cargo las funciones con el `source` del siguiente bloque de
código.

``` r
source('matrices-de-comunidad-y-ambiental.R')
```

# Evaluación de la función para una familia, Acanthaceae

## Evaluar la función propiamente

A modo de ejemplo, a continuación genero las matrices de comunidad y
ambiental de la familia Acanthaceae evaluando la función
`generar_mc_ma`.

``` r
# Llamada a la función
acanthaceae <- generar_mc_ma(
  taxon = 'Acanthaceae',
  exportar_sf = T,
  exportar_mc = T,
  min_num_spp_hex = 2,
  min_num_hex_sp = 2)
```

    ## 
    ## 
    ## ### CREANDO ÍNDICE ESPACIAL H3 EN EL ÁREA DE INTERES (AOI) ###
    ## 
    ## 
    ## ### DESCARGANDO REGISTROS DE PRESENCIA DEL TAXÓN Acanthaceae DESDE GBIF ###
    ## 
    ## 
    ## ### LIMPIANDO REGISTROS DE PRESENCIA DEL TAXÓN ###
    ## Reading layer `ne_110m_land' from data source `/tmp/Rtmp0PgBoM/ne_110m_land.shp' using driver `ESRI Shapefile'
    ## Simple feature collection with 127 features and 3 fields
    ## Geometry type: POLYGON
    ## Dimension:     XY
    ## Bounding box:  xmin: -180 ymin: -90 xmax: 180 ymax: 83.64513
    ## Geodetic CRS:  WGS 84
    ## 
    ## 
    ## ### CONVIRTIENDO REGISTROS DE PRESENCIA A OBJETO sf ###
    ## 
    ## 
    ## ### INTERSECTANDO REGISTROS DE PRESENCIA EN EL ÍNDICE ESPACIAL ###
    ## 
    ## 
    ## ### CREANDO GRÁFICO ###
    ## 
    ## 
    ## ### GENERANDO SALIDAS .RDS DE LOS REGISTROS INTERSECTADOS Y EL ÍNDICE ESPACIAL ###
    ## 
    ## 
    ## ### GENERANDO SALIDAS .RDS DE LOS REGISTROS INTERSECTADOS Y EL ÍNDICE ESPACIAL ###
    ## Deleting source `salidas_sf/reg_hex_inter_Acanthaceae.kml' using driver `KML'
    ## Writing layer `reg_hex_inter_Acanthaceae' to data source 
    ##   `salidas_sf/reg_hex_inter_Acanthaceae.kml' using driver `KML'
    ## Writing 580 features with 136 fields and geometry type Point.
    ## Deleting source `salidas_sf/ind_esp_Acanthaceae.kml' using driver `KML'
    ## Writing layer `ind_esp_Acanthaceae' to data source 
    ##   `salidas_sf/ind_esp_Acanthaceae.kml' using driver `KML'
    ## Writing 291 features with 1 fields and geometry type Polygon.
    ## 
    ## 
    ## ### GENERANDO MATRIZ DE COMUNIDAD ###
    ## El número de especies quitadas de la matriz por estar en menos de 2 hexágonos fue de  28 
    ## El número de hexágonos quitados de la matriz por tener menos de 2 expecies representadas fue de 67 
    ## 
    ## 
    ## ### EXPORTANDO MATRIZ DE COMUNIDAD DE NOMBRES LARGOS Y CORTOS EN FORMATO .RDS ###
    ## 
    ## 
    ## ### GENERANDO MATRIZ AMBIENTAL ###
    ## Hay consistencia de filas entre matrices de comunidad y ambiental
    ## 
    ## 
    ## ### EXPORTANDO MATRIZ AMBIENTAL ###
    ## 
    ## 
    ## ### GENERANDO LISTA EXHAUSTIVA DE OBJETOS ###
    ## 
    ## 
    ## ### MATRICES DE COMUNIDAD Y AMBIENTAL GENERADAS CON ÉXITO ###

Si la función se ejecutó correctamente, los directorios `salidas_RDS` y
`salidas_sf` contienen archivos geográficos en formato `.RDS` y `.kml`
(para abrir en QGIS o Google Earth) de los registros de presencia de
GBIF, así como índice espacial de hexágonos H3. Los directorios
`salidas_mc` y `salidas_ma` contienen archivos en formato `.RDS` de la
matrices de comunidad y ambiental para cada taxon, respectivamente.

## Mapa

El objeto `acanthaceae` contiene todos los objetos creados por el
*toolchain*. Uno de ellos consiste en un mapa de distribución de los
registros de presencia de GBIF para el taxón, y los hexágonos de la
biblioteca H3.

``` r
# Mapa
acanthaceae$aoi_reg_hex_inter_g
```

<img src="matrices-de-comunidad-y-ambiental_files/figure-gfm/unnamed-chunk-5-1.png" width="100%" />

La matriz de comunidad se puede imprimir con la función `kable` del
paquete `kableExtra`.

``` r
acanthaceae$mc %>% kableExtra::kable()
```

|                 | Thunbergia grandiflora (Roxb. ex Rottler) Roxb. | Thunbergia alata Bojer ex Sims | Pachystachys lutea (Ruiz & Pav. ex Schult.) Nees | Odontonema cuspidatum (Nees) Kuntze | Megaskepasma erythrochlamys Lindau | Asystasia gangetica (L.) T.Anderson | Ruellia simplex C.Wright | Ruellia ciliatiflora Hook. | Ruellia tuberosa L. | Ruellia coccinea (L.) Vahl | Ruellia blechum L. | Pachystachys spicata (Ruiz & Pav.) Wassh. | Barleriola solanifolia (L.) Oerst. ex Lindau | Oplonia spinosa (Jacq.) Raf. | Dianthera secunda (Lam.) Griseb. | Thunbergia fragrans Roxb. | Avicennia germinans (L.) L. | Barleria lupulina Lindl. | Andrographis paniculata (Burm.fil.) Nees | Dianthera pectoralis (Jacq.) J.F.Gmel. | Sanchezia parvibracteata Sprague & Hutch. | Crossandra infundibuliformis (L.) Nees | Graptophyllum pictum (L.) Griff. | Thunbergia erecta (Benth.) T.Anderson | Justicia brandegeeana Wassh. & L.B.Sm. | Dicliptera mucronata Urb. | Oplonia microphylla (Lam.) Stearn | Ruellia domingensis Spreng. ex Nees | Justicia disparifolia Urb. & Ekman | Barleriola inermis Urb. & Ekman | Dyschoriste diffusa (Nees) Urb. | Lepidagathis alopecuroidea (Vahl) R.Br. ex Griseb. | Hygrophila costata Nees | Justicia alsinoides Leonard | Justicia mirabiloides Lam. | Ruellia lepidota Urb. | Dianthera sessilis (Jacq.) J.F.Gmel. | Stenandrium tuberosum (L.) Urb. | Ruellia geminiflora Kunth | Dianthera reptans (Sw.) J.F.Gmel. | Oplonia acicularis (Sw.) Stearn |
|:----------------|------------------------------------------------:|-------------------------------:|-------------------------------------------------:|------------------------------------:|-----------------------------------:|------------------------------------:|-------------------------:|---------------------------:|--------------------:|---------------------------:|-------------------:|------------------------------------------:|---------------------------------------------:|-----------------------------:|---------------------------------:|--------------------------:|----------------------------:|-------------------------:|-----------------------------------------:|---------------------------------------:|------------------------------------------:|---------------------------------------:|---------------------------------:|--------------------------------------:|---------------------------------------:|--------------------------:|----------------------------------:|------------------------------------:|-----------------------------------:|--------------------------------:|--------------------------------:|---------------------------------------------------:|------------------------:|----------------------------:|---------------------------:|----------------------:|-------------------------------------:|--------------------------------:|--------------------------:|----------------------------------:|--------------------------------:|
| 854c8997fffffff |                                               1 |                              1 |                                                1 |                                   0 |                                  1 |                                   1 |                        1 |                          1 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                1 |                                     0 |                                      1 |                         0 |                                 1 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd29bfffffff |                                               0 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            1 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      1 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  1 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd477fffffff |                                               1 |                              1 |                                                0 |                                   0 |                                  1 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd46bfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               1 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c8927fffffff |                                               0 |                              1 |                                                1 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  1 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89b3fffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                1 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd4cbfffffff |                                               1 |                              1 |                                                0 |                                   1 |                                  1 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     1 |                                      0 |                         0 |                                 0 |                                   1 |                                  0 |                               0 |                               0 |                                                  0 |                       1 |                           0 |                          0 |                     0 |                                    0 |                               1 |                         0 |                                 0 |                               0 |
| 854cd40bfffffff |                                               0 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  1 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               1 |                         0 |                                 0 |                               0 |
| 854cd423fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 1 |                                   1 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               1 |                         0 |                                 0 |                               0 |
| 854cc6c7fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c892ffffffff |                                               0 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       1 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd63bfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          1 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         1 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd457fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         1 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       1 |                           0 |                          0 |                     0 |                                    0 |                               1 |                         0 |                                 1 |                               0 |
| 856725b7fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  1 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            1 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf26ffffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   1 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 85672537fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89abfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89a3fffffff |                                               1 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        1 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        1 |                                        0 |                                      0 |                                         0 |                                      0 |                                1 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd647fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd453fffffff |                                               1 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  1 |                               0 |                               0 |                                                  1 |                       0 |                           1 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 1 |                               0 |
| 854cf373fffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           1 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89c7fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        1 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89c3fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        1 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     1 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf31bfffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  1 |                                   1 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         1 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf243fffffff |                                               0 |                              1 |                                                1 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                1 |                         1 |                           1 |                        1 |                                        1 |                                      1 |                                         1 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd0c3fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  1 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     1 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd42ffffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  1 |                                   1 |                        1 |                          0 |                   1 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        1 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     0 |                                      1 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf347fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           1 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          1 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf303fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd5b3fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc64ffffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c893bfffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  1 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf267fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         1 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  1 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf333fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf26bfffffff |                                               0 |                              0 |                                                1 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd427fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            1 |                            0 |                                0 |                         1 |                           0 |                        1 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      1 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c894bfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               1 |                         0 |                                 0 |                               0 |
| 854cf20ffffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         1 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc6cffffffff |                                               1 |                              1 |                                                0 |                                   0 |                                  0 |                                   1 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc603fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                1 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc613fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd513fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           1 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd5b7fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            1 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                1 |                                     0 |                                      0 |                         0 |                                 1 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf353fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd403fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         1 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd093fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89a7fffffff |                                               0 |                              0 |                                                1 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd553fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf24bfffffff |                                               1 |                              1 |                                                1 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd09bfffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd653fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd46ffffffff |                                               0 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  1 |                               1 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd4d3fffffff |                                               1 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      1 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc657fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                1 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  1 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd41bfffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd293fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   1 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           1 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c8933fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   1 |                                  0 |                               0 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd667fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            1 |                            0 |                                0 |                         0 |                           1 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 1 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               1 |
| 854c898ffffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  1 |                                         0 |                                            0 |                            1 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   1 |                                  0 |                               0 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    1 |                               0 |                         0 |                                 0 |                               0 |
| 854cd2d7fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         1 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89bbfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          1 |                   1 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd40ffffffff |                                               0 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        1 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc67bfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          1 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd467fffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      1 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf323fffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c89b7fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  1 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd5cffffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           1 |                        1 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd693fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  1 |                               0 |                               0 |                                                  0 |                       0 |                           1 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cf343fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           1 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  1 |                       1 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd47bfffffff |                                               0 |                              1 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd623fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 1 |                                   1 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    1 |                               0 |                         0 |                                 0 |                               0 |
| 854cd473fffffff |                                               0 |                              0 |                                                0 |                                   1 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               1 |                               0 |                                                  0 |                       1 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854c890ffffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     1 |                                    0 |                               1 |                         0 |                                 0 |                               0 |
| 854cd4c3fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         1 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cc673fffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            1 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd66ffffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd697fffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        1 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       1 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd6affffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          0 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   1 |                                  0 |                               0 |                               1 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd58bfffffff |                                               0 |                              1 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   1 |                          0 |                  1 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         0 |                                 0 |                               0 |
| 854cd44bfffffff |                                               0 |                              0 |                                                0 |                                   0 |                                  0 |                                   0 |                        0 |                          0 |                   0 |                          1 |                  0 |                                         0 |                                            0 |                            0 |                                0 |                         0 |                           0 |                        0 |                                        0 |                                      0 |                                         0 |                                      0 |                                0 |                                     0 |                                      0 |                         0 |                                 0 |                                   0 |                                  0 |                               0 |                               0 |                                                  0 |                       0 |                           0 |                          0 |                     0 |                                    0 |                               0 |                         1 |                                 0 |                               0 |

## Resumen de la matriz de comunidad y ambiental

Finalmente, un método de la función `summary` genera un resumen básico
de los datos de comunidad.

``` r
summary.mc_ma(acanthaceae, nombres_cortos = F, tamano_rotulo = 6)
```

- **Lista de especies en orden alfabético**

| Especies                                           |
|:---------------------------------------------------|
| Andrographis paniculata (Burm.fil.) Nees           |
| Asystasia gangetica (L.) T.Anderson                |
| Avicennia germinans (L.) L.                        |
| Barleria lupulina Lindl.                           |
| Barleriola inermis Urb. & Ekman                    |
| Barleriola solanifolia (L.) Oerst. ex Lindau       |
| Crossandra infundibuliformis (L.) Nees             |
| Dianthera pectoralis (Jacq.) J.F.Gmel.             |
| Dianthera reptans (Sw.) J.F.Gmel.                  |
| Dianthera secunda (Lam.) Griseb.                   |
| Dianthera sessilis (Jacq.) J.F.Gmel.               |
| Dicliptera mucronata Urb.                          |
| Dyschoriste diffusa (Nees) Urb.                    |
| Graptophyllum pictum (L.) Griff.                   |
| Hygrophila costata Nees                            |
| Justicia alsinoides Leonard                        |
| Justicia brandegeeana Wassh. & L.B.Sm.             |
| Justicia disparifolia Urb. & Ekman                 |
| Justicia mirabiloides Lam.                         |
| Lepidagathis alopecuroidea (Vahl) R.Br. ex Griseb. |
| Megaskepasma erythrochlamys Lindau                 |
| Odontonema cuspidatum (Nees) Kuntze                |
| Oplonia acicularis (Sw.) Stearn                    |
| Oplonia microphylla (Lam.) Stearn                  |
| Oplonia spinosa (Jacq.) Raf.                       |
| Pachystachys lutea (Ruiz & Pav. ex Schult.) Nees   |
| Pachystachys spicata (Ruiz & Pav.) Wassh.          |
| Ruellia blechum L.                                 |
| Ruellia ciliatiflora Hook.                         |
| Ruellia coccinea (L.) Vahl                         |
| Ruellia domingensis Spreng. ex Nees                |
| Ruellia geminiflora Kunth                          |
| Ruellia lepidota Urb.                              |
| Ruellia simplex C.Wright                           |
| Ruellia tuberosa L.                                |
| Sanchezia parvibracteata Sprague & Hutch.          |
| Stenandrium tuberosum (L.) Urb.                    |
| Thunbergia alata Bojer ex Sims                     |
| Thunbergia erecta (Benth.) T.Anderson              |
| Thunbergia fragrans Roxb.                          |
| Thunbergia grandiflora (Roxb. ex Rottler) Roxb.    |

- **Las matrices de comunidad y ambiental abarcan** 80 **sitios
  (hexágonos)**

- **La riqueza es 41 especies**

- **Riqueza de especies por sitios**

| Hexágono H3     | Riqueza de especies |
|:----------------|--------------------:|
| 854c8997fffffff |                  11 |
| 854cd29bfffffff |                   5 |
| 854cd477fffffff |                   4 |
| 854cd46bfffffff |                   2 |
| 854c8927fffffff |                   6 |
| 854c89b3fffffff |                   5 |
| 854cd4cbfffffff |                  10 |
| 854cd40bfffffff |                   4 |
| 854cd423fffffff |                   6 |
| 854cc6c7fffffff |                   3 |
| 854c892ffffffff |                   4 |
| 854cd63bfffffff |                   2 |
| 854cd457fffffff |                   5 |
| 856725b7fffffff |                   4 |
| 854cf26ffffffff |                   6 |
| 85672537fffffff |                   2 |
| 854c89abfffffff |                   3 |
| 854c89a3fffffff |                   6 |
| 854cd647fffffff |                   2 |
| 854cd453fffffff |                   7 |
| 854cf373fffffff |                   3 |
| 854c89c7fffffff |                   2 |
| 854c89c3fffffff |                   3 |
| 854cf31bfffffff |                   5 |
| 854cf243fffffff |                  11 |
| 854cd0c3fffffff |                   2 |
| 854cd42ffffffff |                  10 |
| 854cf347fffffff |                   3 |
| 854cf303fffffff |                   3 |
| 854cd5b3fffffff |                   4 |
| 854cc64ffffffff |                   2 |
| 854c893bfffffff |                   3 |
| 854cf267fffffff |                   2 |
| 854cf333fffffff |                   2 |
| 854cf26bfffffff |                   2 |
| 854cd427fffffff |                   8 |
| 854c894bfffffff |                   2 |
| 854cf20ffffffff |                   3 |
| 854cc6cffffffff |                   4 |
| 854cc603fffffff |                   3 |
| 854cc613fffffff |                   4 |
| 854cd513fffffff |                   4 |
| 854cd5b7fffffff |                   7 |
| 854cf353fffffff |                   2 |
| 854cd403fffffff |                   2 |
| 854cd093fffffff |                   2 |
| 854c89a7fffffff |                   3 |
| 854cd553fffffff |                   2 |
| 854cf24bfffffff |                   3 |
| 854cd09bfffffff |                   4 |
| 854cd653fffffff |                   2 |
| 854cd46ffffffff |                   3 |
| 854cd4d3fffffff |                   3 |
| 854cc657fffffff |                   3 |
| 854cd41bfffffff |                   3 |
| 854cd293fffffff |                   3 |
| 854c8933fffffff |                   3 |
| 854cd667fffffff |                   5 |
| 854c898ffffffff |                   8 |
| 854cd2d7fffffff |                   3 |
| 854c89bbfffffff |                   2 |
| 854cd40ffffffff |                   2 |
| 854cc67bfffffff |                   2 |
| 854cd467fffffff |                   4 |
| 854cf323fffffff |                   3 |
| 854c89b7fffffff |                   2 |
| 854cd5cffffffff |                   2 |
| 854cd693fffffff |                   2 |
| 854cf343fffffff |                   3 |
| 854cd47bfffffff |                   2 |
| 854cd623fffffff |                   3 |
| 854cd473fffffff |                   3 |
| 854c890ffffffff |                   2 |
| 854cd4c3fffffff |                   2 |
| 854cc673fffffff |                   2 |
| 854cd66ffffffff |                   2 |
| 854cd697fffffff |                   3 |
| 854cd6affffffff |                   2 |
| 854cd58bfffffff |                   3 |
| 854cd44bfffffff |                   2 |

- **Gráfico de mosaicos de presencia de especies por hexágonos
  H3**<img src="matrices-de-comunidad-y-ambiental_files/figure-gfm/unnamed-chunk-7-1.png" width="100%" />

# De forma masiva, 20 familias bien representada en GBIF para RD

## Selección de familias

``` r
fam_sel <- c('Acanthaceae',
             'Bromeliaceae',
             'Cactaceae',
             'Fabaceae',
             'Myrtaceae',
             'Orchidaceae',
             'Asteraceae',
             'Poaceae',
             'Rubiaceae',
             'Melastomataceae',
             'Piperaceae',
             'Solanaceae',
             'Euphorbiaceae',
             'Tyrannidae',
             'Thraupidae',
             'Trochilidae',
             'Phyllostomidae',
             'Eleutherodactylidae',
             'Nymphalidae',
             'Orthoptera'
)
fam_sel <- sort(fam_sel)
```

## Evaluar la función propiamente (*be careful*)

El cometido de este bloque de abajo fue realizar una consulta “masiva” a
la base de datos de GBIF y obtener registros de presencia para 20
familias de plantas y animales bien representadas en RD, los cuales son
requeridos para realizar la práctica PD02 y se encuentran en los
directorios `salidas_*`. Por lo tanto, no es necesario re-ejecutar este
bloque, sólo se deja aquí para fines de reproducibilidad.

La consulta tomó varios minutos, y ocupó una buena porción de la RAM.
Dado lo compleja de esta operación, la evaluación no se ejecutó con el
tejido de este cuaderno (en el RMarkdown, el encabezado del código tiene
`eval=F`), sino que se realizó de forma directa ejecutando el bloque de
código.

El “*be careful*” en el título está dirigido a personas que tuviesen
interés de ejecutar este bloque por cuenta propia (e.g. para otra
selección de familias), en cuyo caso hay que tener cuidado de
seleccionar apropiadamente un número razonablemente pequeño de familias.

``` r
mc_ma_familias_seleccionadas_l <- sapply(fam_sel, function(x) {
  tryCatch(
    {
      generar_mc_ma(
        taxon = x,
        exportar_sf = TRUE,
        exportar_mc = TRUE
      )
    },
    error = function(e) {
      message(paste("Error en la familia:", x, ":", e$message))
      return(NULL)  # Retorna NULL en caso de error
    })
  }, simplify = FALSE)
saveRDS(
  object = mc_ma_familias_seleccionadas_l,
  file = 'salidas_RDS/todos_los_objetos_todas_las_familias.RDS') # Añadido al .gitignore
```

Al realizar la operación masiva anterior, se producen los mismos
archivos que produje para el caso de la familia Acanthaceae, a saber:
`salidas_RDS`, `salidas_sf`, `salidas_mc` y `salidas_ma`. Los archivos
`.kml`, que se guardan en el directorio `salidas_sf` no se incluyeron en
esta operación masiva `.kml`, porque son muy grandes (los generé pero no
los subí al repo remoto para garantizar la manejabilidad). Recomiendo
usar los archivos por familias del directorio `salidas_RDS`, y si se
necesitase un `.kml` de registros de presencia depurados, generarlo al
momento con el siguiente código (ejemplo para Acanthaceae):

``` r
library(sf)
acanthaceae <- readRDS('salidas_RDS/todos_los_objetos_Acanthaceae.RDS')
st_write(
      obj = acanthaceae$reg_pres_sf %>% select(-networkKeys),
      dsn = 'salidas_sf/reg_hex_inter_Acanthaceae.kml',
      delete_dsn = T)
```

A continuación se incluyen algunos resúmenes básicos de todas las
familias.

- Número de registros limpios por familia.

``` r
registros_desde_rds <- sapply(
  X = fam_sel,
  function(x) {
    readRDS(paste0('salidas_RDS/reg_hex_inter_', x, '.RDS'))
  })
as.data.frame(sapply(registros_desde_rds, nrow)) %>% 
  rownames_to_column('Familia') %>% 
  rename(`Número de registros de presencia en GBIF (limpios)` = names(.)[2]) %>% 
  kable()
```

| Familia             | Número de registros de presencia en GBIF (limpios) |
|:--------------------|---------------------------------------------------:|
| Acanthaceae         |                                                580 |
| Asteraceae          |                                               2689 |
| Bromeliaceae        |                                               1409 |
| Cactaceae           |                                                642 |
| Eleutherodactylidae |                                               4763 |
| Euphorbiaceae       |                                               1774 |
| Fabaceae            |                                               3880 |
| Melastomataceae     |                                               2440 |
| Myrtaceae           |                                               1716 |
| Nymphalidae         |                                               2537 |
| Orchidaceae         |                                               1622 |
| Orthoptera          |                                                574 |
| Phyllostomidae      |                                               2398 |
| Piperaceae          |                                               1216 |
| Poaceae             |                                               1780 |
| Rubiaceae           |                                               2853 |
| Solanaceae          |                                               1455 |
| Thraupidae          |                                              22298 |
| Trochilidae         |                                              16101 |
| Tyrannidae          |                                              21869 |

- Riqueza de especies por familia.

``` r
mc_desde_rds <- sapply(
  X = fam_sel,
  function(x) {
    readRDS(paste0('salidas_mc/mc_nombres_largos_', x, '.RDS'))
  })
as.data.frame(sapply(mc_desde_rds, function(x) specnumber(colSums(x)))) %>% 
  rownames_to_column('Familia') %>% 
  rename(`Riqueza de especies` = names(.)[2]) %>% 
  kable()
```

| Familia             | Riqueza de especies |
|:--------------------|--------------------:|
| Acanthaceae         |                  41 |
| Asteraceae          |                 155 |
| Bromeliaceae        |                  53 |
| Cactaceae           |                  30 |
| Eleutherodactylidae |                  23 |
| Euphorbiaceae       |                 105 |
| Fabaceae            |                 223 |
| Melastomataceae     |                  97 |
| Myrtaceae           |                  69 |
| Nymphalidae         |                  72 |
| Orchidaceae         |                 104 |
| Orthoptera          |                  37 |
| Phyllostomidae      |                  14 |
| Piperaceae          |                  54 |
| Poaceae             |                 111 |
| Rubiaceae           |                 140 |
| Solanaceae          |                  62 |
| Thraupidae          |                   8 |
| Trochilidae         |                   5 |
| Tyrannidae          |                  11 |

# Referencias

<div id="refs" class="references csl-bib-body hanging-indent"
entry-spacing="0" line-spacing="2">

<div id="ref-gbiforg2022what" class="csl-entry">

GBIF.org. (2022). *What is GBIF?* Retrieved from
<https://www.gbif.org/what-is-gbif>

</div>

<div id="ref-jose_ramon_martinez_batlle_2022_7367180" class="csl-entry">

Martínez-Batlle, J. R. (2022).
*<span class="nocase">geofis/zonal-statistics: Let there be
environmental variables</span>*.
<https://doi.org/10.5281/zenodo.7367256>

</div>

</div>
